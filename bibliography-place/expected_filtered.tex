% A minimal template

% Preamble commands for each bibliography engine
%   These are included in Pandoc's default template
%
% TODO: when the filter has put the references in the
%   metadata field, Pandoc's LaTeX writer doesn't
%   set (csl-refs) to true, so we can't use if(csl-refs)
%
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1 \everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces\fi
  % set entry spacing
  \ifnum #2 > 0
  \setlength{\parskip}{#2\baselineskip}
  \fi
 }%
 {}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}\break}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\begin{document}

I enjoyed Doe (1979).

Seymour Butz
School of Studies

% Refs should be below this

\begin{CSLReferences}{1}{0}

\hypertarget{refs}{refs}

\leavevmode\hypertarget{ref-Doe}{}%
Doe, Jane. 1979. \emph{Short Stories}.

\end{CSLReferences}

\end{document}
